<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juno Vault | Rhev1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;900&display=swap" rel="stylesheet">
    <style>
        body { background: #000; color: #fff; font-family: 'Poppins', sans-serif; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(40px); border: 1px solid rgba(255, 255, 255, 0.1); }
        
        /* ğŸŒŒ AURORA & STARS */
        .aurora { position: fixed; inset: 0; z-index: 1; pointer-events: none; background: radial-gradient(circle at 20% 30%, rgba(0, 255, 150, 0.2) 0%, transparent 50%), radial-gradient(circle at 80% 70%, rgba(162, 0, 255, 0.15) 0%, transparent 50%); filter: blur(100px); }
        #star-field { position: fixed; inset: 0; z-index: 2; pointer-events: none; }
        .star { position: absolute; background: #fff; border-radius: 50%; animation: blink var(--d) infinite; }
        @keyframes blink { 0%, 100% { opacity: 0.2; } 50% { opacity: 1; } }

        /* é¹¿ ZARÄ°F SEMBOL */
        .symbol { width: 40px; height: 40px; fill: #00ff96; filter: drop-shadow(0 0 10px #00ff96); animation: float 4s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* ğŸŸ¢ GIF PARLAMA */
        .gif-container:hover .glow { opacity: 1; transform: scale(1.4); }
        .glow { position: absolute; inset: 0; background: radial-gradient(circle, rgba(0,255,150,0.3) 0%, transparent 70%); opacity: 0; transition: 0.6s; z-index: -1; }

        /* ğŸŸ© NFC Ä°BRE */
        .nfc-track { width: 100%; height: 5px; background: rgba(255,255,255,0.05); border-radius: 10px; overflow: hidden; }
        #nfc-bar { width: 0%; height: 100%; background: #00ff96; box-shadow: 0 0 15px #00ff96; }

        .tab-btn.active { background: white; color: black; }
    </style>
</head>
<body>

    <div class="aurora"></div>
    <div id="star-field"></div>

    <div id="v-entry" class="relative z-10 flex flex-col items-center justify-center min-h-screen">
        <div class="bg-white text-black px-8 py-2 rounded-full font-black text-[10px] mb-8 animate-pulse tracking-widest">SÄ°STEMÄ° BAÅLAT</div>
        <div id="trigger-btn" class="gif-container relative cursor-pointer">
            <div class="glow"></div>
            <img src="yeni-kedi.gif" onerror="this.src='https://media.tenor.com/On7tT9C_h_MAAAAd/kedi-bune.gif'" class="w-64 h-64 rounded-full object-cover border-4 border-white/10 group-hover:border-green-500/50 transition-all">
        </div>
    </div>

    <div id="v-auth" class="fixed inset-0 z-[100] bg-black/95 backdrop-blur-2xl hidden items-center justify-center p-6 text-center">
        <div class="glass p-10 rounded-[3rem] max-w-sm w-full">
            <div id="ada-ui" class="hidden space-y-8">
                <div class="flex justify-center"><svg class="symbol" viewBox="0 0 24 24"><path d="M12 2L9 7H15L12 2ZM4 10L6 22H18L20 10H4Z"/></svg></div>
                <h3 class="text-lg font-bold">Ada'ya tanÄ±mlÄ± fiziksel kartÄ±n okutulmasÄ± gerek</h3>
                <div class="space-y-4">
                    <div class="nfc-track"><div id="nfc-bar"></div></div>
                    <p id="nfc-txt" class="text-sm font-mono text-green-500">HazÄ±r...</p>
                </div>
                <p id="nfc-status" class="text-[9px] text-gray-500 uppercase tracking-widest">NFC ModÃ¼lÃ¼ Aktif</p>
            </div>
            <div id="admin-ui" class="hidden space-y-6">
                <h3 class="font-bold italic">Patron GiriÅŸi</h3>
                <input type="password" id="admin-pw" class="w-full bg-white/5 border border-white/10 py-4 rounded-xl text-center outline-none focus:border-green-500" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                <button id="admin-btn" class="w-full bg-white text-black py-4 rounded-xl font-black text-xs">SÄ°STEMÄ° AÃ‡</button>
            </div>
        </div>
    </div>

    <div id="v-timer" class="fixed inset-0 z-[80] bg-black hidden flex flex-col items-center justify-center">
        <div class="grid grid-cols-4 gap-6 md:gap-16 text-6xl md:text-9xl font-black italic">
            <div><span id="d">00</span><p class="text-[10px] text-gray-700 mt-4 font-bold">GÃœN</p></div>
            <div><span id="h">00</span><p class="text-[10px] text-gray-700 mt-4 font-bold">SAAT</p></div>
            <div><span id="m">00</span><p class="text-[10px] text-gray-700 mt-4 font-bold">DAK</p></div>
            <div><span id="s" class="text-green-500">00</span><p class="text-[10px] text-gray-700 mt-4 font-bold">SN</p></div>
        </div>
        <div id="vault-open" class="hidden mt-16 animate-bounce"><button onclick="goVault()" class="bg-white text-black px-16 py-5 rounded-full font-black text-xl">ARÅÄ°VÄ° AÃ‡ ğŸ‰</button></div>
    </div>

    <div id="v-vault" class="fixed inset-0 z-[120] bg-black hidden overflow-y-auto p-8 md:p-20">
        <div class="max-w-6xl mx-auto">
            <header class="flex flex-col md:flex-row justify-between items-center mb-12 gap-6">
                <h1 class="text-2xl font-black italic uppercase">Juno Archive</h1>
                <div class="flex flex-wrap justify-center gap-2">
                    <button onclick="filterVault('all')" class="tab-btn active glass px-6 py-2 rounded-full text-[9px] font-bold uppercase">TÃ¼mÃ¼</button>
                    <button onclick="filterVault('photo')" class="tab-btn glass px-6 py-2 rounded-full text-[9px] font-bold uppercase">FotoÄŸraflar</button>
                    <button onclick="filterVault('video')" class="tab-btn glass px-6 py-2 rounded-full text-[9px] font-bold uppercase">Videolar</button>
                    <button onclick="filterVault('audio')" class="tab-btn glass px-6 py-2 rounded-full text-[9px] font-bold uppercase">Sesler</button>
                    <button onclick="filterVault('text')" class="tab-btn glass px-6 py-2 rounded-full text-[9px] font-bold uppercase">Metinler</button>
                    <button id="adm-back" onclick="closeVault()" class="hidden bg-green-500 text-black px-6 py-2 rounded-full text-[9px] font-bold uppercase">Panele DÃ¶n</button>
                </div>
            </header>
            <div id="vault-grid" class="grid grid-cols-2 md:grid-cols-4 gap-6"></div>
        </div>
    </div>

    <div id="v-admin" class="fixed inset-0 z-[130] bg-black hidden p-8 flex flex-col md:flex-row gap-8">
        <div class="w-full md:w-80 glass p-8 rounded-[3rem] flex flex-col justify-between">
            <div class="space-y-8">
                <h3 class="text-xs font-black text-green-500 uppercase tracking-widest">Terminal</h3>
                <div><p class="text-[9px] text-gray-500 uppercase mb-2">GiriÅŸler</p><span id="stat-v" class="text-6xl font-light">0</span></div>
            </div>
            <button onclick="goVault(true)" class="w-full bg-white text-black py-6 rounded-2xl font-black uppercase text-[10px]">Ã–NÄ°ZLEME</button>
        </div>
        <div class="flex-1 glass rounded-[3rem] flex items-center justify-center text-center">
            <h2 class="text-2xl italic font-bold">Sistem Ã‡evrimiÃ§i</h2>
        </div>
    </div>

    <script>
        // YILDIZLAR
        const sf = document.getElementById('star-field');
        for(let i=0; i<150; i++){
            const s = document.createElement('div'); s.className='star';
            const sz = Math.random()*2;
            s.style.cssText = `width:${sz}px; height:${sz}px; top:${Math.random()*100}%; left:${Math.random()*100}%; --d:${Math.random()*3+2}s`;
            sf.appendChild(s);
        }

        const url = new URLSearchParams(window.location.search);
        const role = url.get('role');
        const key = url.get('key');
        const target = new Date("May 20, 2026 00:00:00").getTime();

        document.getElementById('trigger-btn').onclick = () => {
            document.getElementById('v-auth').classList.replace('hidden', 'flex');
            if(role === 'ada') {
                document.getElementById('ada-ui').classList.remove('hidden');
                if(key === 'juno2026') startNFCScan();
            } else {
                document.getElementById('admin-ui').classList.remove('hidden');
            }
        };

        // ğŸ”— GERÃ‡EK NFC DÃ–NGÃœSÃœ (TIMEOUT Ã–NLEYÄ°CÄ°)
        async function startNFCScan() {
            const status = document.getElementById('nfc-status');
            
            if ('NDEFReader' in window) {
                try {
                    const reader = new NDEFReader();
                    await reader.scan();
                    status.innerText = "Kart bekleniyor...";
                    
                    reader.onreading = () => {
                        // KART OKUNDU! Åimdi 10 saniyelik ÅŸovu baÅŸlat
                        start10SecBar();
                    };

                    reader.onreadingerror = () => {
                        // Hata alsa bile dÃ¶ngÃ¼yÃ¼ bozma
                        console.log("Okuma hatasÄ±, tekrar deneniyor...");
                    };

                } catch (err) {
                    console.log("NFC baÅŸlatÄ±lamadÄ±, manuel simÃ¼lasyon.");
                    // EÄŸer NFC donanÄ±mÄ± yoksa (PC gibi) direkt baÅŸlat (Test iÃ§in)
                    start10SecBar();
                }
            } else {
                // NFC API yoksa simÃ¼lasyona geÃ§
                start10SecBar();
            }
        }

        function start10SecBar() {
            let p = 0;
            const bar = document.getElementById('nfc-bar');
            const txt = document.getElementById('nfc-txt');
            const status = document.getElementById('nfc-status');
            
            status.innerText = "KART TANINDI, AKTARILIYOR...";
            status.classList.add('text-green-500');

            const inv = setInterval(() => {
                p += 0.1;
                bar.style.width = (p/10)*100 + "%";
                txt.innerText = Math.min(10, p).toFixed(1) + "s";
                if(p >= 10) {
                    clearInterval(inv);
                    document.getElementById('v-auth').style.display='none';
                    document.getElementById('v-entry').style.display='none';
                    document.getElementById('v-timer').classList.remove('hidden');
                    startTimer();
                }
            }, 100);
        }

        // DÄ°ÄER FONKSÄ°YONLAR (Admin, Filtreleme, SayaÃ§)
        document.getElementById('admin-btn').onclick = () => {
            if(document.getElementById('admin-pw').value === "ada seni Ã§ok seviyorum") {
                document.getElementById('v-auth').style.display='none';
                document.getElementById('v-entry').style.display='none';
                document.getElementById('v-admin').classList.remove('hidden');
                document.getElementById('stat-v').innerText = localStorage.getItem('ada_v') || 0;
            }
        };

        function startTimer() {
            localStorage.setItem('ada_v', (parseInt(localStorage.getItem('ada_v') || 0) + 1));
            setInterval(() => {
                const diff = target - new Date().getTime();
                if(diff > 0) {
                    document.getElementById('d').innerText = Math.floor(diff/86400000).toString().padStart(2,'0');
                    document.getElementById('h').innerText = Math.floor((diff%86400000)/3600000).toString().padStart(2,'0');
                    document.getElementById('m').innerText = Math.floor((diff%3600000)/60000).toString().padStart(2,'0');
                    document.getElementById('s').innerText = Math.floor((diff%60000)/1000).toString().padStart(2,'0');
                } else {
                    document.getElementById('vault-open').classList.remove('hidden');
                }
            }, 1000);
        }

        const data = [
            { t: 'photo', s: 'medya/1.jpg' },
            { t: 'photo', s: 'medya/2.jpg' },
            { t: 'video', s: 'v.mp4' },
            { t: 'audio', s: 'a.mp3' },
            { t: 'text', s: 't.txt' }
        ];

        function goVault(isAdmin=false) {
            document.getElementById('v-timer').classList.add('hidden');
            document.getElementById('v-admin').classList.add('hidden');
            document.getElementById('v-vault').classList.remove('hidden');
            if(isAdmin) document.getElementById('adm-back').classList.remove('hidden');
            filterVault('all');
        }

        function closeVault() {
            document.getElementById('v-vault').classList.add('hidden');
            document.getElementById('v-admin').classList.remove('hidden');
        }

        function filterVault(type) {
            const grid = document.getElementById('vault-grid');
            grid.innerHTML = '';
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            if(event) event.target.classList.add('active');

            const filtered = type === 'all' ? data : data.filter(i => i.t === type);
            filtered.forEach(i => {
                const c = document.createElement('div');
                c.className = 'glass p-3 rounded-[2rem] animate-fade-in';
                let icon = 'ğŸ–¼ï¸';
                if(i.t==='video') icon='ğŸ¥'; else if(i.t==='audio') icon='ğŸµ'; else if(i.t==='text') icon='ğŸ“';
                c.innerHTML = `<div class="aspect-square flex items-center justify-center text-4xl bg-white/5 rounded-2xl">${icon}</div>`;
                grid.appendChild(c);
            });
        }
    </script>
</body>
</html>