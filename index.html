<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juno Universe | Rhev1</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;900&display=swap" rel="stylesheet">
    <style>
        body { background: #000; color: #fff; font-family: 'Poppins', sans-serif; margin: 0; min-height: 100vh; overflow: hidden; }
        .glass { background: rgba(255, 255, 255, 0.02); backdrop-filter: blur(40px); border: 1px solid rgba(255, 255, 255, 0.1); }

        /* ğŸŒŒ AURORA */
        .aurora-bg {
            position: fixed; inset: 0; z-index: 1; pointer-events: none;
            background: radial-gradient(circle at 20% 30%, rgba(0, 255, 150, 0.25) 0%, transparent 50%),
                        radial-gradient(circle at 80% 70%, rgba(162, 0, 255, 0.2) 0%, transparent 50%);
            filter: blur(80px); animation: auroraMove 15s infinite alternate ease-in-out;
        }
        @keyframes auroraMove { 0% { transform: scale(1); } 100% { transform: scale(1.15); } }

        /* âœ¨ STARS */
        #star-field { position: fixed; inset: 0; z-index: 2; }
        .star { position: absolute; background: #fff; border-radius: 50%; animation: twinkle var(--d) infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }

        /* ğŸ¦Œ SYMBOL */
        .symbol-fig { width: 45px; height: 45px; fill: rgba(0, 255, 150, 0.6); animation: float 5s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        /* ğŸŸ¢ GIF GLOW */
        .gif-container { position: relative; cursor: pointer; }
        .gif-glow { 
            position: absolute; inset: -20px; background: radial-gradient(circle, rgba(0,255,150,0.4) 0%, transparent 70%); 
            border-radius: 50%; opacity: 0; transition: all 0.6s ease; z-index: -1;
        }
        .gif-container:hover .gif-glow { opacity: 1; transform: scale(1.3); }

        /* ğŸŸ© 10s PROGRESS BAR */
        .nfc-container { width: 100%; height: 4px; background: rgba(255,255,255,0.05); border-radius: 10px; overflow: hidden; }
        #nfc-fill { width: 0%; height: 100%; background: #00ff96; box-shadow: 0 0 15px #00ff96; }

        .tab-btn.active { background: white; color: black; border-color: white; }
        .vault-item { transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    </style>
</head>
<body>

    <div class="aurora-bg"></div>
    <div id="star-field"></div>

    <div id="view-entry" class="relative z-10 flex flex-col items-center justify-center min-h-screen">
        <div class="bg-white text-black px-10 py-3 rounded-full font-black text-[10px] mb-12 animate-bounce tracking-[0.4em]">SÄ°STEMÄ° UYANDIR</div>
        <div id="trigger-btn" class="gif-container group">
            <div class="gif-glow"></div>
            <img src="yeni-kedi.gif" onerror="this.src='https://media.tenor.com/On7tT9C_h_MAAAAd/kedi-bune.gif'" 
                 class="w-72 h-72 rounded-full object-cover border-4 border-white/10 transition-all duration-500 group-hover:border-green-400/40">
        </div>
    </div>

    <div id="view-auth" class="fixed inset-0 z-[100] bg-black/98 backdrop-blur-3xl hidden items-center justify-center p-6 text-center">
        <div class="glass p-12 rounded-[4rem] max-w-sm w-full border-white/20">
            <div id="ada-nfc-screen" class="hidden space-y-8">
                <div class="flex justify-center"><svg class="symbol-fig" viewBox="0 0 24 24"><path d="M12 2L9 7H15L12 2ZM4 10L6 22H18L20 10H4Z"/></svg></div>
                <h3 class="text-xl font-bold tracking-tight px-4">Ada'ya tanÄ±mlÄ± fiziksel kartÄ±n okutulmasÄ± gerek</h3>
                <div class="space-y-4">
                    <div class="nfc-container"><div id="nfc-fill"></div></div>
                    <p id="nfc-timer" class="text-xs text-green-500 font-mono font-bold tracking-[0.3em]">0.0s</p>
                </div>
                <p id="nfc-status" class="text-[9px] text-gray-600 uppercase tracking-widest">TemassÄ±z Kart Bekleniyor...</p>
            </div>

            <div id="admin-login-screen" class="hidden space-y-6">
                <h3 class="text-xl font-bold italic tracking-widest">ADMIN</h3>
                <input type="password" id="admin-pass" class="w-full bg-white/5 border border-white/10 py-4 rounded-2xl text-center outline-none focus:border-white/50" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                <button id="admin-enter" class="w-full bg-white text-black py-4 rounded-2xl font-black text-xs tracking-widest uppercase">GÄ°RÄ°Å</button>
            </div>
        </div>
    </div>

    <div id="view-countdown" class="fixed inset-0 z-[80] bg-black hidden flex-col items-center justify-center p-6">
        <svg class="symbol-fig mb-12" viewBox="0 0 24 24"><path d="M12 2L9 7H15L12 2ZM4 10L6 22H18L20 10H4Z"/></svg>
        <div class="grid grid-cols-4 gap-4 md:gap-16 text-5xl md:text-9xl font-black italic text-center">
            <div><span id="d">00</span><p class="text-[10px] not-italic text-gray-700 mt-6 uppercase font-bold">GÃ¼n</p></div>
            <div><span id="h">00</span><p class="text-[10px] not-italic text-gray-700 mt-6 uppercase font-bold">Saat</p></div>
            <div><span id="m">00</span><p class="text-[10px] not-italic text-gray-700 mt-6 uppercase font-bold">Dak</p></div>
            <div><span id="s" class="text-green-500">00</span><p class="text-[10px] not-italic text-gray-700 mt-6 uppercase font-bold">Sn</p></div>
        </div>
        <div id="vault-btn-container" class="hidden mt-20"><button onclick="goVault()" class="bg-white text-black px-20 py-6 rounded-full font-black text-2xl animate-pulse uppercase italic">KASAYA GÄ°R</button></div>
    </div>

    <div id="view-vault" class="fixed inset-0 z-[120] bg-black hidden overflow-y-auto p-8 md:p-24">
        <div class="max-w-6xl mx-auto">
            <header class="flex flex-col md:flex-row justify-between items-center mb-16 gap-8">
                <h1 class="text-3xl font-black italic tracking-tighter uppercase">Juno Archive</h1>
                <div class="flex flex-wrap justify-center gap-2">
                    <button onclick="filterVault('all')" class="tab-btn active glass px-6 py-2 rounded-full text-[9px] font-bold uppercase border border-white/10">TÃ¼mÃ¼</button>
                    <button onclick="filterVault('photo')" class="tab-btn glass px-6 py-2 rounded-full text-[9px] font-bold uppercase border border-white/10">FotoÄŸraflar</button>
                    <button onclick="filterVault('video')" class="tab-btn glass px-6 py-2 rounded-full text-[9px] font-bold uppercase border border-white/10">Videolar</button>
                    <button onclick="filterVault('audio')" class="tab-btn glass px-6 py-2 rounded-full text-[9px] font-bold uppercase border border-white/10">Sesler</button>
                    <button onclick="filterVault('text')" class="tab-btn glass px-6 py-2 rounded-full text-[9px] font-bold uppercase border border-white/10">Metinler</button>
                    <button id="admin-return" onclick="vaultToAdmin()" class="hidden bg-green-500 text-black px-6 py-2 rounded-full text-[9px] font-bold uppercase">Panele DÃ¶n</button>
                </div>
            </header>
            <div id="vault-grid" class="grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-10"></div>
        </div>
    </div>

    <div id="view-admin" class="fixed inset-0 z-[130] bg-black hidden p-8 flex flex-col md:flex-row gap-8">
        <div class="w-full md:w-80 space-y-6">
            <div class="glass p-10 rounded-[3rem] border-green-500/20">
                <h3 class="text-[10px] font-black text-green-500 uppercase mb-10 tracking-[0.2em]">Sistem Verileri</h3>
                <div class="space-y-10">
                    <div><p class="text-[9px] text-gray-600 uppercase mb-2">Ada Toplam GiriÅŸ</p><span id="stat-v" class="text-7xl font-light">0</span></div>
                    <div><p class="text-[9px] text-gray-600 uppercase mb-2">Terminal Saati</p><span id="stat-t" class="text-xl font-mono text-gray-400">00:00:00</span></div>
                </div>
            </div>
            <button onclick="goVault(true)" class="w-full bg-white text-black py-8 rounded-[2.5rem] font-black uppercase text-xs tracking-[0.2em] shadow-2xl">Ã–NÄ°ZLEME MODU</button>
        </div>
        <div class="flex-1 glass rounded-[4rem] flex flex-col items-center justify-center text-center p-12">
            <svg class="symbol-fig w-16 h-16 mb-8" viewBox="0 0 24 24"><path d="M12 2L9 7H15L12 2ZM4 10L6 22H18L20 10H4Z"/></svg>
            <h2 class="text-3xl font-bold italic">Sistem HazÄ±r, Patron.</h2>
            <p class="text-gray-500 text-sm mt-4 italic">NFC Okuyucu dÃ¶ngÃ¼sÃ¼ aktif hale getirildi.</p>
        </div>
    </div>

    <script>
        // STARS
        const starLayer = document.getElementById('star-field');
        for(let i=0; i<150; i++) {
            const s = document.createElement('div'); s.className = 'star';
            const size = Math.random() * 2;
            s.style.cssText = `width:${size}px; height:${size}px; top:${Math.random()*100}%; left:${Math.random()*100}%; --d:${Math.random()*3+2}s`;
            starLayer.appendChild(s);
        }

        const params = new URLSearchParams(window.location.search);
        const role = params.get('role');
        const key = params.get('key');
        const target = new Date("May 20, 2026 00:00:00").getTime();

        document.getElementById('trigger-btn').onclick = () => {
            document.getElementById('view-auth').classList.replace('hidden', 'flex');
            if(role === 'ada') {
                document.getElementById('ada-nfc-screen').classList.remove('hidden');
                if(key === 'juno2026') startRealNFCLoop(); 
                else { setTimeout(() => { alert("YETKÄ°SÄ°Z KART!"); location.reload(); }, 3000); }
            } else {
                document.getElementById('admin-login-screen').classList.remove('hidden');
            }
        };

        // ğŸ”— GERÃ‡EK NFC DÃ–NGÃœSÃœ & 10 SANÄ°YE KURALI
        async function startRealNFCLoop() {
            let elapsed = 0;
            let nfcDetected = false;
            const bar = document.getElementById('nfc-fill');
            const txt = document.getElementById('nfc-timer');
            const status = document.getElementById('nfc-status');

            // GerÃ§ek NFC Okuma Fonksiyonu (Web NFC API)
            if ('NDEFReader' in window) {
                try {
                    const ndef = new NDEFReader();
                    await ndef.scan();
                    ndef.onreading = () => { 
                        nfcDetected = true; 
                        status.innerText = "Kart TanÄ±mlandÄ±! BaÄŸlantÄ± Bekleniyor...";
                        status.classList.replace('text-gray-600', 'text-green-500');
                    };
                } catch (error) { console.log("NFC baÅŸlatÄ±lamadÄ±, simÃ¼lasyona devam."); }
            }

            const interval = setInterval(() => {
                elapsed += 0.1;
                bar.style.width = (elapsed / 10) * 100 + "%";
                txt.innerText = Math.min(10, elapsed).toFixed(1) + "s";

                // EÄŸer 10 saniye dolduysa VE kart daha Ã¶nce dokundurulduysa (veya test iÃ§in direkt geÃ§iÅŸ)
                if(elapsed >= 10) {
                    clearInterval(interval);
                    document.getElementById('view-auth').style.display = 'none';
                    document.getElementById('view-entry').style.display = 'none';
                    document.getElementById('view-countdown').classList.remove('hidden');
                    startMainTimer();
                }
            }, 100);
        }

        document.getElementById('admin-enter').onclick = () => {
            if(document.getElementById('admin-pass').value === "ada seni Ã§ok seviyorum") {
                document.getElementById('view-auth').style.display = 'none';
                document.getElementById('view-entry').style.display = 'none';
                document.getElementById('view-admin').classList.remove('hidden');
                document.getElementById('stat-v').innerText = localStorage.getItem('ada_v') || 0;
                setInterval(() => document.getElementById('stat-t').innerText = new Date().toLocaleTimeString(), 1000);
            }
        };

        function startMainTimer() {
            localStorage.setItem('ada_v', (parseInt(localStorage.getItem('ada_v') || 0) + 1));
            const timer = setInterval(() => {
                const diff = target - new Date().getTime();
                if(diff > 0) {
                    document.getElementById('d').innerText = Math.floor(diff / 86400000).toString().padStart(2, '0');
                    document.getElementById('h').innerText = Math.floor((diff % 86400000) / 3600000).toString().padStart(2, '0');
                    document.getElementById('m').innerText = Math.floor((diff % 3600000) / 60000).toString().padStart(2, '0');
                    document.getElementById('s').innerText = Math.floor((diff % 60000) / 1000).toString().padStart(2, '0');
                } else {
                    clearInterval(timer);
                    document.getElementById('vault-btn-container').classList.remove('hidden');
                }
            }, 1000);
        }

        const vaultData = [
            { type: 'photo', src: 'medya/1.jpg' },
            { type: 'photo', src: 'medya/2.jpg' },
            { type: 'photo', src: 'medya/3.jpg' },
            { type: 'photo', src: 'medya/4.jpg' },
            { type: 'video', src: 'medya/video1.mp4' },
            { type: 'audio', src: 'medya/ses1.mp3' },
            { type: 'text', src: 'not1.txt', content: 'Seni her zaman...' }
        ];

        function goVault(isAdmin = false) {
            document.getElementById('view-countdown').classList.add('hidden');
            document.getElementById('view-admin').classList.add('hidden');
            document.getElementById('view-vault').classList.remove('hidden');
            if(isAdmin) document.getElementById('admin-return').classList.remove('hidden');
            filterVault('all');
        }

        function vaultToAdmin() {
            document.getElementById('view-vault').classList.add('hidden');
            document.getElementById('view-admin').classList.remove('hidden');
        }

        function filterVault(cat) {
            const grid = document.getElementById('vault-grid');
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            if(event) event.target.classList.add('active');
            
            grid.innerHTML = '';
            const filtered = cat === 'all' ? vaultData : vaultData.filter(d => d.type === cat);
            
            filtered.forEach(item => {
                const card = document.createElement('div');
                card.className = 'vault-item glass p-3 rounded-[2.5rem]';
                let content = '';
                if(item.type === 'photo') content = `<img src="${item.src}" class="w-full aspect-square object-cover rounded-[1.8rem]" onerror="this.src='https://via.placeholder.com/300?text=Foto'">`;
                else if(item.type === 'video') content = `<div class="aspect-square flex items-center justify-center text-4xl bg-white/5 rounded-[1.8rem]">ğŸ¥</div>`;
                else if(item.type === 'audio') content = `<div class="aspect-square flex items-center justify-center text-4xl bg-white/5 rounded-[1.8rem]">ğŸµ</div>`;
                else if(item.type === 'text') content = `<div class="aspect-square flex items-center justify-center text-4xl bg-white/5 rounded-[1.8rem]">ğŸ“</div>`;
                
                card.innerHTML = content;
                grid.appendChild(card);
            });
        }
    </script>
</body>
</html>